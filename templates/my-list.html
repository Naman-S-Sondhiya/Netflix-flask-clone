<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My List - Netflix</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Header scroll effect
            const header = document.querySelector('.header');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 100) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });

            // Movie card hover effects
            const movieCards = document.querySelectorAll('.movie-card');
            movieCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    movieCards.forEach(otherCard => {
                        if (otherCard !== card) {
                            otherCard.style.transition = 'all 0.3s ease';
                        }
                    });
                });

                card.addEventListener('mouseleave', function() {
                    movieCards.forEach(otherCard => {
                        otherCard.style.transition = 'all 0.3s ease';
                    });
                });
            });

            // Add loading animation to movie cards
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }, index * 100);
                    }
                });
            }, observerOptions);

            movieCards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'all 0.6s ease';
                observer.observe(card);
            });
        });
    </script>
</head>
<body>
    <div class="movie-collage-bg"></div>

    <header class="header">
        <a href="/" class="logo">NETFLIX</a>
        <div class="nav-container">
            <nav class="nav-links">
                <a href="/" class="nav-link">Home</a>
                <a href="/movies" class="nav-link">Movies</a>
                <a href="/tv-shows" class="nav-link">TV Shows</a>
                <a href="/new-popular" class="nav-link">New & Popular</a>
                <a href="/my-list" class="nav-link active">My List</a>
            </nav>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search my list...">
                <i class="search-icon">üîç</i>
            </div>
        </div>
        <div class="user-profile">
            U
            <div class="profile-dropdown">
                <a href="#profile" class="profile-option">Manage Profiles</a>
                <a href="#account" class="profile-option">Account</a>
                <a href="#help" class="profile-option">Help Center</a>
                <a href="#signout" class="profile-option">Sign out of Netflix</a>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>My List</h1>
            <p>Your personal collection of favorite movies and TV shows</p>
        </div>
    </section>

    <section class="movies-section">
        {% if movies %}
        <div class="movies-row">
            <h2 class="section-title">Your Saved Items</h2>
            <div class="movies-container">
                {% for movie in movies[:20] %}
                <a href="/movie/{{ movie.id }}" class="movie-card" style="text-decoration: none; color: inherit;">
                    {% if movie.poster_path %}
                    <img src="{{ image_base_url }}{{ movie.poster_path }}" alt="{{ movie.title }}" class="movie-poster">
                    {% else %}
                    <div class="movie-poster" style="display: flex; align-items: center; justify-content: center; color: #999; font-size: 0.8rem;">
                        No Image
                    </div>
                    {% endif %}
                    <div class="movie-info">
                        <div class="movie-title">{{ movie.title }}</div>
                        <div class="movie-rating">‚≠ê {{ "%.1f"|format(movie.vote_average) }}</div>
                        <div class="movie-meta">
                            <span>{{ movie.release_date[:4] if movie.release_date else 'N/A' }}</span>
                            <span>{{ movie.runtime }}min</span>
                        </div>
                        <div class="movie-description">{{ movie.overview[:100] if movie.overview else 'No description available.' }}...</div>
                        <div class="movie-actions">
                            <button class="action-btn play-btn">‚ñ∂ Play</button>
                            <button class="action-btn remove-btn">‚úï</button>
                            <button class="action-btn">üëç</button>
                            <button class="action-btn">‚è¨</button>
                        </div>
                        {% if movie.genres %}
                        <div class="genre-tags">
                            {% for genre in movie.genres[:3] %}
                            <span class="genre-tag">{{ genre.name }}</span>
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
        {% else %}
        <div class="empty-list">
            <h2>Your list is empty</h2>
            <p>Add movies and TV shows to your list to watch them later. Click the + button on any movie or show to add it to your list.</p>
            <a href="/" class="cta-button">Browse Content</a>
        </div>
        {% endif %}
    </section>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <div class="footer-column">
                    <a href="#faq">FAQ</a>
                    <a href="#help">Help Center</a>
                    <a href="#account">Account</a>
                    <a href="#media">Media Center</a>
                </div>
                <div class="footer-column">
                    <a href="#investor">Investor Relations</a>
                    <a href="#jobs">Jobs</a>
                    <a href="#redeem">Redeem Gift Cards</a>
                    <a href="#buy">Buy Gift Cards</a>
                </div>
                <div class="footer-column">
                    <a href="#ways">Ways to Watch</a>
                    <a href="#terms">Terms of Use</a>
                    <a href="#privacy">Privacy</a>
                    <a href="#cookie">Cookie Preferences</a>
                </div>
                <div class="footer-column">
                    <a href="#contact">Contact Us</a>
                    <a href="#speed">Speed Test</a>
                    <a href="#legal">Legal Notices</a>
                    <a href="#originals">Only on Netflix</a>
                </div>
            </div>
            <div class="footer-bottom">
                <select class="language-select">
                    <option value="en">English</option>
                    <option value="es">Espa√±ol</option>
                    <option value="fr">Fran√ßais</option>
                </select>
                <p class="copyright">Netflix Clone - Built for Educational Purposes</p>
            </div>
        </div>
    </footer>
</body>
</html>
